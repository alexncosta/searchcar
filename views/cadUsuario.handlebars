<br/>
<br/>
<br/>
<br/>
{{>_msg}}
<h2 class="mt-8">Cadastro de Usu√°rios</h2>
<div class="card">
    <div class="card-body">
        <br/>
        <form action="/app/usuarios" method="post">
            <input type="text" name="nome" placeholder="Nome" class="form-control" required/><br/>
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <div class="input-group-text">@</div>
                </div>
                <input type="email" class="form-control" id="login" name="login" placeholder="Login" required>
            </div>
            <br/>
            <input type="password" name="senha" placeholder="Senha" class="form-control" required/><br/>
            <button type="submit" class="btn btn-success">Cadastrar</button>
        </form>
    </div>
</div>
<div class="card mt-3">
    <div class="card-body">
        <table id="tbUsuarios" class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Login</th>
                </tr>
            </thead>
            <tfoot class="thead-dark">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Login</th>
                </tr>
            </tfoot>
        </table>
        <br/>
        <a href="/admin"><button type="button" class="btn btn-secondary">Voltar</button></a>
    </div>
</div>

    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <link href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css" rel="stylesheet">

    <script>
            $.ajax({
                url: "/app/usuarios",
                type: 'GET',
                contentType: 'application/json',
                success: function(dataset) {
                    console.log(JSON.stringify(dataset));
                    $('#tbUsuarios').DataTable({
                        data: dataset,
                        "columns": [    
                            { "data": "id" },
                            { "data": "nome" },
                            { "data": "login" }                            
                        ]
                    });
                }
            });

    </script>
